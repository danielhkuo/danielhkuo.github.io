---
export interface Props {
  title: string;
  description: string;
  tech: string[];
  repoUrl: string;
  emoji?: string;
  slug: string;
}

const { title, description, tech, repoUrl, emoji, slug } = Astro.props;
---

<div 
  class="project group bg-card-bg rounded-lg overflow-hidden cursor-pointer transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-xl relative"
  onclick={`window.location.hash = '#${slug}-modal'`}
  role="button"
  tabindex="0"
  onkeydown={`if(event.key === 'Enter' || event.key === ' ') { event.preventDefault(); window.location.hash = '#${slug}-modal'; }`}
>
  <div class="p-6 h-full">
    <h3 class="text-xl font-semibold text-primary mb-4 relative z-10">
      {emoji && <span class="mr-2">{emoji}</span>}
      {title}
    </h3>
    
    <div class="project-details bg-background border border-card-bg rounded-md p-4 mt-4 font-mono text-sm relative z-10 text-text">
      <ul class="list-none p-0 m-0">
        <li class="relative pl-6 py-2 my-2 leading-relaxed border-b border-secondary last:border-b-0 odd:bg-accent/5 even:bg-secondary/5 text-text">
          <span class="absolute left-0 text-primary text-sm">▹</span>
          <strong class="text-text">Description:</strong> {description}
        </li>
        <li class="relative pl-6 py-2 my-2 leading-relaxed border-b border-secondary last:border-b-0 odd:bg-accent/5 even:bg-secondary/5 text-text">
          <span class="absolute left-0 text-primary text-sm">▹</span>
          <strong class="text-text">Stack:</strong> {tech.join(' + ')}
        </li>
        <li class="relative pl-6 py-2 my-2 leading-relaxed border-b border-secondary last:border-b-0 odd:bg-accent/5 even:bg-secondary/5 text-text">
          <span class="absolute left-0 text-primary text-sm">▹</span>
          <strong class="text-text">Repository:</strong> 
          <a 
            href={repoUrl} 
            target="_blank" 
            rel="noopener noreferrer" 
            class="text-primary hover:underline ml-1"
            onclick="event.stopPropagation()"
          >
            View on GitHub
          </a>
        </li>
      </ul>
    </div>
  </div>
  
  <!-- Hover overlay -->
  <div class="absolute inset-0 bg-primary opacity-0 transition-opacity duration-200 group-hover:opacity-5 pointer-events-none"></div>
</div> 