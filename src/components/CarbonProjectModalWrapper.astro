---
import type { CollectionEntry } from 'astro:content';
import { markdown } from '@astropub/md';
import CarbonProjectModal from './CarbonProjectModal.svelte';

interface Props {
  project: CollectionEntry<'projects'>;
}

const { project } = Astro.props;

// Render the markdown content to HTML
const markdownResult = await markdown(project.body || '');
const renderedContent = markdownResult.html || markdownResult.toString() || '';
---

<CarbonProjectModal 
  project={project} 
  renderedContent={renderedContent}
  client:load 
/>